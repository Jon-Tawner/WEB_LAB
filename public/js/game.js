let x,y,hero,table=$("#game"),isGameStart=!1,heroSelected=!1,fieldWidth=20,fieldHeight=20;function Game(e){isGameStart?(table.empty(),CreateFieldGame()):StartGame()}function CreateFieldGame(){for(let e=0;e<fieldHeight;e++){for(let t=0;t<fieldWidth;t++){let d=$("<input>");d.attr("TYPE","CHECKBOX"),d.attr("id",e+","+t),table.append(d)}let t=$("<br>");table.append(t)}isGameStart=!1,heroSelected=!1,hero=null}function StartGame(){for(let e=0;e<fieldHeight;e++)for(let t=0;t<fieldWidth;t++){let d=document.getElementById(e+","+t);d.checked?d.disabled=!0:d.addEventListener("click",(function(){heroSelected?d.checked=!1:(heroSelected=!0,hero=this,x=e,y=t),d==hero&&(d.checked=!0)}))}isGameStart=!0}CreateFieldGame(),document.onkeydown=function(e){if(heroSelected){switch(e.key){case"ArrowUp":x>0&&0==document.getElementById(x-1+","+y).disabled&&--x;break;case"ArrowDown":x<fieldHeight-1&&0==document.getElementById(x+1+","+y).disabled&&++x;break;case"ArrowLeft":y>0&&0==document.getElementById(x+","+(y-1)).disabled&&--y;break;case"ArrowRight":y<fieldWidth-1&&0==document.getElementById(x+","+(y+1)).disabled&&++y;break;default:return}hero.checked=!1,hero=document.getElementById(x+","+y),hero.checked=!0}};